"use strict";angular.module("mastermindApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/mastermind.html",controller:"MastermindctrlCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("mastermindApp").controller("MastermindctrlCtrl",["$scope",function(a){a.secretPegs=[],a.attempts=[],a.correctPegs=0,a.availableColors=["blue","green","red","yellow","white","black"];var b=function(){for(var b=new Attempt,c=0;4>c;c++)b.pegs[c]=new Peg("empty"),b.results[c]=new Peg("empty"),b.results[c].size="tiny";a.attempts.unshift(b)},c=function(){for(var b=0;4>b;b++)a.secretPegs[b]=new Peg(e(a.availableColors.slice())[0])};a.switchColor=function(a,b){switch(b.color){case"empty":b.color="blue";break;case"blue":b.color="red";break;case"red":b.color="yellow";break;case"yellow":b.color="green";break;case"green":b.color="black";break;case"black":b.color="white";break;case"white":b.color="empty"}},a.validateGuess=function(b){var c=[],f=[],g=[];a.correctPegs=0;for(var h=0;4>h;h++)if(a.attempts[b].pegs[h].color===a.secretPegs[h].color){var i=new Peg("black");i.size="tiny",c.push(i),f.push(h),a.correctPegs++}else g.push(h);if(g.length>0)for(h=0;h<g.length;h++)for(var j=0;j<g.length;j++)if(a.secretPegs[g[h]].color===a.attempts[b].pegs[g[j]].color){var k=new Peg("white");k.size="tiny",c.push(k);break}a.attempts[b].results=e(c),10===a.attempts.length?a.currentAttempt=-1:d()};var d=function(){b()},e=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a};a.reset=function(){a.currentAttempt=0,a.correctPegs=0,a.attempts=[],d(),c()};var f=function(){a.reset()};f()}]);var Peg=function(a){this.color=a,this.size="normal"},Attempt=function(){this.pegs=[],this.results=[],this.active=!1};angular.module("mastermindApp").directive("attemptit",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"views/templates/attempt.html"}});